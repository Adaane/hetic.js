<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style>
            body {
                font-family: verdana;
            }
            td { display: inline-block; width: 80px; height: 80px; text-align: center; margin: 20px; cursor: pointer; }
            .house {
                background: linear-gradient(90deg, #0D411F 50%, #0F6533 50%);
            }
            .hotel {
                background: linear-gradient(90deg, #992527 50%, #D7332F 50%);
            }
        </style>
    </head>

    <body>
        <table>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>Belleville</td>
                <td>Lecourbe</td>
                <td>Vaugirard</td>
                <td>Courcelles</td>
                <td>RÃ©publique</td>
            </tr>
        </table>
    </body>

    <script>
        var tr = document.querySelector('tr');
        var tds = tr.querySelectorAll('td');
        for (var i = 0; i < tds.length; i++) {
            var td = tds[i];
            td.addEventListener('click', function(e) {
                // reset all classes, if click on 2 last 
                var classes = e.currentTarget.classList;
                if (classes.contains('reset')) {
                    for (var j = 0; j < tds.length; j++)
                        tds[j].className = '';
                    return;
                }

                // add .house or .hotel
                if (classes.contains('house'))
                    classes.add('hotel');
                else
                    classes.add('house');

                // if 3 .hotel, add .hotel to others
                var houses = tr.querySelectorAll('td.hotel');
                if (houses.length >= 3)
                for (var j = 0; j < tds.length; j++) {
                    if (!tds[j].classList.contains('hotel')) {
                        tds[j].classList.add('hotel');
                        tds[j].classList.add('reset');
                    }
                }
            });
        }
    </script>
</html>
